import { jsx as _jsx, jsxs as _jsxs } from "react/jsx-runtime";
import cn from "classnames";
import { memo } from "react";
import { useLiveAPIContext } from "../../contexts/LiveAPIContext";
import AudioPulse from "../audio-pulse/AudioPulse";
import "./control-tray.scss";
// Inline SVG components for icons
export const MicIcon = () => (_jsxs("svg", { fill: "#000000", width: "24", height: "24", viewBox: "-3.5 0 24 24", xmlns: "http://www.w3.org/2000/svg", children: [_jsx("path", { d: "m8.4 16.8c2.65-.003 4.797-2.15 4.8-4.8v-7.2c0-2.651-2.149-4.8-4.8-4.8s-4.8 2.149-4.8 4.8v7.2c.003 2.65 2.15 4.797 4.8 4.8z" }), _jsx("path", { d: "m16.8 12v-2.4c0-.663-.537-1.2-1.2-1.2s-1.2.537-1.2 1.2v2.4c0 3.314-2.686 6-6 6s-6-2.686-6-6v-2.4c0-.663-.537-1.2-1.2-1.2s-1.2.537-1.2 1.2v2.4c.007 4.211 3.11 7.695 7.154 8.298l.046.006v1.296h-3.6c-.663 0-1.2.537-1.2 1.2s.537 1.2 1.2 1.2h9.6c.663 0 1.2-.537 1.2-1.2s-.537-1.2-1.2-1.2h-3.6v-1.296c4.09-.609 7.193-4.093 7.2-8.303z" })] }));
export const MicOffIcon = () => (_jsx("svg", { fill: "#000000", width: "24", height: "24", viewBox: "0 0 1920 1920", xmlns: "http://www.w3.org/2000/svg", children: _jsx("path", { d: "M666.286 1242.8c-88.168-79.79-143.65-195.06-143.65-323.033V435.679C522.636 195.475 718.111 0 958.315 0c176.955 0 329.645 106.09 397.775 257.997L1536.8 0l92.38 64.669L331.381 1917.48 239 1852.81l305.289-435.84C412.414 1301.53 329 1132.02 329 943.408V709.98h96.818v233.428c0 155.812 67.32 296.242 174.393 393.722l66.075-94.33Zm129.034 207.58-57.716 82.4c54.294 20.4 112.129 33.5 172.304 38.1v252.3H667.861V1920h580.909v-96.82h-242.044v-252.3c324.464-24.8 580.904-296.76 580.904-627.472V709.98h-96.82v233.428c0 293.552-238.94 532.492-532.495 532.492-56.824 0-111.601-8.95-162.995-25.52Zm598.67-854.695L868.36 1346.11c29.036 6.12 59.127 9.34 89.955 9.34 240.205 0 435.675-195.48 435.675-435.683V595.685Z" }) }));
export const PlayIcon = () => (_jsx("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "currentColor", children: _jsx("path", { d: "M8 5v14l11-7z" }) }));
export const PauseIcon = () => (_jsxs("svg", { width: "24", height: "24", viewBox: "0 0 24 24", fill: "currentColor", children: [_jsx("rect", { x: "6", y: "4", width: "4", height: "16" }), _jsx("rect", { x: "14", y: "4", width: "4", height: "16" })] }));
function ControlTray() {
    const { connected, connect, disconnect, volume, muted, unmute, mute } = useLiveAPIContext();
    return (_jsxs("section", { className: "control-tray", children: [_jsx("canvas", { style: { display: "none" } }), _jsxs("nav", { className: cn("actions-nav", { disabled: !connected }), children: [_jsx("button", { className: cn("action-button mic-button"), onClick: () => (muted ? unmute() : mute()), children: !muted ? _jsx(MicIcon, {}) : _jsx(MicOffIcon, {}) }), _jsx("div", { className: "action-button no-action outlined", children: _jsx(AudioPulse, { volume: volume, active: connected, hover: false }) })] }), _jsxs("div", { className: cn("connection-container", { connected }), children: [_jsx("div", { className: "connection-button-container", children: _jsx("button", { className: cn("action-button connect-toggle", { connected }), onClick: connected ? disconnect : connect, children: connected ? _jsx(PauseIcon, {}) : _jsx(PlayIcon, {}) }) }), _jsx("span", { className: "text-indicator", children: "Streaming" })] })] }));
}
export default memo(ControlTray);
